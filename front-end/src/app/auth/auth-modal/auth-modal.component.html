<div class="modal-backdrop" (click)="close.emit()">
  <div class="modal" (click) ="$event.stopPropagation()">

    <div class="mode-toggle">
      <span
        class="mode-option"
        [class.active]="isLoginMode"
        (click)="setMode(true)"  
      >
        Login
      </span>
      <span
        class="mode-option"
        [class.active]="!isLoginMode"
        (click)="setMode(false)"  
      >
        Join
      </span>
    </div>

    <h2>{{ isLoginMode ? 'Login GT' : 'Join GT' }}</h2>

    <form (ngSubmit)="onSubmit()">
      <input type="email" [(ngModel)]="email" name="email" placeholder="Email" required />
      <input type="password" [(ngModel)]="password" name="password" placeholder="Password" required />

      @if (!isLoginMode) {
        <input
          type="text"
          [(ngModel)]="username"
          name="username"
          placeholder="Username"
          required
        />
      }

      <button type="submit">{{ isLoginMode ? 'Login' : 'Register' }}</button>
    </form>

    <p class="message">{{ message }}</p>

    
  </div>
</div>
